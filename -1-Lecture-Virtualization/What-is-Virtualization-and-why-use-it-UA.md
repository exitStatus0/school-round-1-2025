# Лекція: **Основи віртуалізації**

> Ця лекція пояснює ключові поняття віртуалізації (ВМ, ізоляція, гіпервізори типу 1/2), практичні сценарії використання та дає покроковий міні‑практикум. Матеріал підходить для початківців і практиків (DevOps, системні адміністратори, розробники, хмарні інженери).

---

## Навчальні цілі
Після цієї лекції ви зможете:
- Пояснити, що таке віртуалізація та віртуальні машини (ВМ).
- Розрізняти гіпервізори типу 1 (bare metal) і типу 2 (hosted).
- Назвати ключові переваги та типові сценарії застосування віртуалізації.
- Оперувати поняттями **ізоляція**, **образ ВМ**, **знімок (snapshot)**.
- Виконати базовий цикл роботи з ВМ: створити → налаштувати → запустити → зробити знімок → відновити.

---

## План лекції
1. Мотивація та визначення
2. Ключові поняття: ВМ, ізоляція, гіпервізор (тип 1/2)
3. Переваги та сценарії використання
4. Образи ВМ і знімки (snapshots)
5. Аналогія з «багатоповерхівкою»
6. Практикум: створення тестової ВМ
7. Поради, часті помилки
8. Підсумок та контрольні питання
9. Глосарій

---

## 1) Що таке віртуалізація?

**Віртуалізація** — це дуже важлива концепція у світі ІТ, яка дозволяє запускати **кілька операційних систем** на одному фізичному комп’ютері. Це досягається за допомогою **віртуальних машин (ВМ)** — «віртуальних комп’ютерів», що працюють незалежно один від одного та від хоста.

---

## 2) Ключові поняття

### 2.1. Віртуальні машини (ВМ)
**ВМ** — це програмний комп’ютер, який **імітує фізичне обладнання**: процесор, оперативну пам’ять, диски, мережу тощо. Віртуальні ресурси «позичаються» з апаратного забезпечення фізичного хоста. На ВМ можна встановити **будь‑яку гостьову ОС** (наприклад, Linux на Windows, Windows на Windows тощо).

### 2.2. Ізоляція
Кожна ВМ працює у **власному ізольованому середовищі**, не знаючи про інші ВМ або про ОС хоста. Завдяки цьому:
- збої чи компрометація всередині однієї ВМ **не впливають** на інші системи;
- ВМ легко **видаляти, відтворювати**, переносити між хостами.

### 2.3. Гіпервізори
**Гіпервізор** — це спеціальне ПЗ для створення та керування ВМ. Розрізняють два основні типи:

| Характеристика | Тип 2 (hosted) | Тип 1 (bare metal) |
|---|---|---|
| Де встановлюється | Поверх наявної ОС хоста | Безпосередньо на «залізо» |
| Приклади | Oracle VirtualBox, VMware Workstation | VMware ESXi, Microsoft Hyper‑V |
| Контроль апаратури | Через хост‑ОС | Безпосередньо |
| Типові кейси | Навчання, тестування на ПК | Сервери, дата‑центри, хмари |
| Плюси | Простота старту, кросплатформеність | Вища продуктивність, надійність |
| Мінуси | Накладні витрати хост‑ОС | Потребує виділеного «заліза» |

> **Підсумок:** тип 2 — зручно на персональному комп’ютері; тип 1 — стандарт для серверів і хмар.

---

## 3) Переваги та сценарії використання

- **Навчання та експериментування.** Безпечно пробуйте нові ОС/ПЗ без ризику для основної системи. Швидко створюйте/видаляйте ВМ.
- **Тестування додатків.** Запуск і перевірка ПЗ у різних ОС/браузерах/середовищах (напр., Linux + Firefox, Windows + IE/Edge).
- **Ефективне використання «заліза».** Один потужний сервер ділиться на багато менших ВМ з потрібними квотами CPU/RAM/SSD.
- **Абстракція та портативність.** Уся гостьова ОС з програмами й даними пакується в **образ ВМ** — переносний файл.
- **Резервне копіювання й відновлення.** Знімки (snapshots) легко копіювати та переносити між хостами; швидкий DR (disaster recovery).
- **Основа хмари.** На гіпервізорах типу 1 будуються AWS, Google Cloud, DigitalOcean тощо — ізольовані масштабовані екземпляри для мільйонів користувачів.

---

## 4) Образи ВМ і знімки (snapshots)

- **Образ ВМ (VM image)** — це файл(и), що містять ОС, програми, конфігурації та дані ВМ. Його можна копіювати/архівувати/переносити.
- **Знімок (snapshot)** — «моментальний стан» ВМ у певний час. Дає можливість **швидко відкотитися** у попередній робочий стан у разі помилки.

```text
[Поточний стан ВМ] --(Snapshot A)--> [Експерименти] --(Rollback)--> [Стан з Snapshot A]
```

---

## 5) Аналогія з багатоповерхівкою

- **Фізичний комп’ютер** — це **велика будівля**.
- **Віртуалізація** — це **звукоізольовані, самодостатні міні‑квартири** (ВМ) всередині будівлі.
- **Гіпервізор** — **керуючий будинком**, що розподіляє ресурси (електрика/вода/інтернет) між квартирами.
- **Тип 2** — керуючий, який працює **через основного мешканця** (хост‑ОС) пентхауса.
- **Тип 1** — керуючий, що **безпосередньо володіє й керує** усією будівлею.
- **Кожна ВМ — окремий орендар**, не бачить інших; потоп у одній квартирі **не впливає** на решту.
- **Образи/знімки** — **креслення** або **готові макети квартир**, які легко копіювати/переносити/відновлювати.

---

## 6) Практикум: створення тестової ВМ (10–20 хв)

> **Мета:** створити ВМ на гіпервізорі типу 2, встановити гостьову ОС, зробити snapshot та відкотитися.

1. **Встановіть гіпервізор типу 2** (на вибір): Oracle VirtualBox / VMware Workstation Player / Hyper‑V (Windows Pro).
2. **Підготуйте ISO‑образ** гостьової ОС (наприклад, Ubuntu Desktop/Server).
3. **Створіть нову ВМ:**
   - Назва: `lab-virtualization-101`
   - CPU: 2 віртуальні ядра (або 1, якщо мало ресурсів)
   - RAM: 2–4 ГБ (мінімум 2 ГБ для GUI десктопів)
   - Диск: 20–40 ГБ (динамічно розширюваний)
   - Мережа: NAT (за замовчуванням) або Bridged (за потреби видимого IP в мережі)
4. **Під’єднайте ISO** до оптичного приводу ВМ і **запустіть** її.
5. **Встановіть ОС** за майстром інсталяції.
6. Після першого входу в систему, **створіть Snapshot** під назвою `clean-install`.
7. **Проведіть експеримент** (встановіть пакет/оновлення), потім **Rollback** до `clean-install` та переконайтеся, що все відкотилось.

> *Результат:* ви освоїли повний життєвий цикл простої ВМ.

---

## 7) Поради та часті помилки

- **Не виділяйте занадто багато RAM/CPU** одній ВМ — залишайте ресурси хост‑ОС.
- **Використовуйте snapshots** перед ризикованими змінами.
- **Зберігайте образи/знімки** на надійному сховищі (резервні копії!).
- **Плануйте мережу**: NAT для простоти, Bridged — якщо потрібна видимість у локальній мережі.
- **Стежте за диском**: динамічні диски ростуть із часом; чистіть непотрібні файли/знімки.

---

## 8) Підсумок та контрольні питання

**Підсумок.** Віртуалізація — базова технологія сучасної інфраструктури. Вона забезпечує ізоляцію, портативність, ефективність використання ресурсів і є фундаментом хмарних платформ.

**Перевірте себе:**
1. Чим відрізняється гіпервізор **типу 1** від **типу 2**?
2. Що таке **образ ВМ** і для чого використовують **snapshot**?
3. Чому **ізоляція** ВМ важлива для безпеки?
4. Які є **типові сценарії** використання ВМ?
5. Коли краще обрати **NAT**, а коли **Bridged** мережевий режим?

---

## 9) Глосарій

- **Віртуальна машина (ВМ)** — програмна імітація комп’ютера, що виконує гостьову ОС.
- **Гостьова ОС (Guest OS)** — ОС, встановлена всередині ВМ.
- **Хост‑ОС (Host OS)** — базова ОС фізичного комп’ютера, поверх якої працює гіпервізор типу 2.
- **Гіпервізор** — ПЗ для створення/керування ВМ (тип 1/тип 2).
- **Образ ВМ (Image)** — файл(и) з повним станом гостьової ОС і дисків.
- **Знімок (Snapshot)** — збережений моментальний стан ВМ для швидкого відкату.
- **NAT/Bridged** — мережеві режими підключення ВМ до мережі.

---

> **Висновок:** Віртуалізація — потужна й повсюдна технологія в ІТ. Вона необхідна всім, хто працює як хмарний інженер, системний адміністратор, розробник або DevOps‑інженер.
