# DigitalOcean Droplet (мінімум) — створити, залогінитись і перевірити порт 8080 (UA)

> Мета: **створити недорогий Droplet з Ubuntu через веб‑інтерфейс**, зайти на нього і **переконатися, що порт 8080 доступний з інтернету по HTTP**. Без DO CLI.

---

## 0) Передумови (включно з SSH‑ключем)
- Обліковий запис **DigitalOcean** з доданою **карткою**.
- **Рекомендовано:** мати **SSH‑ключ** (public key) для безпечного входу. Якщо не хочете зараз — у кроці створення Droplet можна обрати **Password** (менш безпечно).
- DigitalOcean **не генерує** SSH‑ключі за вас. Нижче — як створити ключ для вашої ОС.

### Створити SSH‑ключ (ed25519, рекомендовано)
> Алгоритм **ed25519** — сучасний і компактний. Якщо на дуже старих системах не підтримується — використайте RSA (`-t rsa -b 4096`). Рекомендовано задати **passphrase**.

#### macOS або Linux
```bash
# 1) Створити ключ
ssh-keygen -t ed25519 -C "you@example.com"

# 2) За замовчуванням шлях: ~/.ssh/id_ed25519 (приватний), ~/.ssh/id_ed25519.pub (публічний)
#    Підтвердіть шлях Enter і задайте passphrase (за бажанням).

# 3) Показати та скопіювати ПУБЛІЧНИЙ ключ (вставляти в DO)
cat ~/.ssh/id_ed25519.pub
```

#### Windows 10/11 (PowerShell із вбудованим OpenSSH)
```powershell
# 1) Перевірити, що є ssh
ssh -V

# 2) Створити ключ (ed25519)
ssh-keygen -t ed25519 -C "you@example.com"

# 3) Типовий шлях: C:\Users\<ВашКористувач>\.ssh\id_ed25519.pub
#    Показати та скопіювати ПУБЛІЧНИЙ ключ:
type $env:USERPROFILE\.ssh\id_ed25519.pub
```

#### Windows (Git Bash або WSL)
```bash
# У Git Bash/WSL команди ті самі, що й на Linux/macOS
ssh-keygen -t ed25519 -C "you@example.com"
cat ~/.ssh/id_ed25519.pub
```

> У **DigitalOcean → Create → Droplets → Authentication** натисніть **New SSH Key** і **вставте вміст .pub** файла. Саме **публічний** ключ (рядок, що починається з `ssh-ed25519 ...`).

---

## 1) Створення Droplet через веб‑UI
1. Зайдіть у DigitalOcean → натисніть **Create** → **Droplets**.
2. **Image:** оберіть **Ubuntu 24.04 LTS (x64)**.
3. **Region:** `fra1` (Франкфурт) — близько до PL/EU.
4. **Size (мінімально для демо):** `s-1vcpu-1gb` (1 CPU / 1 GB RAM / 25 GB SSD).
5. **Authentication:** оберіть **один** варіант:
   - **SSH Key (рекомендовано):** **New SSH Key** → вставте вміст вашого `.../id_ed25519.pub`.
   - **Password:** задайте **сильний пароль** для `root` (менш безпечно).
6. (Опційно) Теги/моніторинг — не обов’язково.
7. Натисніть **Create Droplet** і дочекайтесь появи **Public IPv4** (запишіть адресу).

---

## 2) Логін на сервер
### Варіант A — браузерна **Droplet Console** (працює завжди)
- У списку Droplets відкрийте ваш інстанс → **Console** → ввійдіть як `root` (пароль або ключ — залежно від того, що вибрали).

### Варіант B — **SSH** зі свого комп’ютера
```bash
# Якщо ви додали SSH-ключ (ключі автоматично підставляються вашим SSH агентом)
ssh root@<PUBLIC_IP>

# Якщо створювали через Password і хочете SSH паролем (інколи заборонено політикою; тоді використовуйте Console)
ssh root@<PUBLIC_IP>
# (буде запит пароля)
```

> Після першого входу система може попросити **змінити тимчасовий пароль** (якщо вибирали Password).

---

## 3) Запустити простий HTTP‑сервер на 8080 і відкрити порт
Виконайте команди **на сервері** (через Console або SSH):

```bash
# Оновити індекс пакетів
apt update

# Переконатися, що є python3 (зазвичай є в Ubuntu 24.04)
apt -y install python3 > /dev/null 2>&1 || true

# Створити просту сторінку
mkdir -p /opt/test && cd /opt/test
echo "OK: $(hostname) is up on port 8080" > index.html

# (Опційно) Увімкнути UFW і відкрити 8080 + SSH
ufw allow OpenSSH || true
ufw allow 8080/tcp || true
yes | ufw enable || true
ufw status

# Запустити тимчасовий HTTP-сервер на 8080 (у цьому сеансі)
python3 -m http.server 8080 --bind 0.0.0.0
```

> Примітка: сервер працюватиме, доки відкритий цей сеанс (CTRL+C — зупинка). Це **тимчасовий тест**, не продакшн.

---

## 4) Перевірка доступності ззовні
На вашому локальному комп’ютері (або просто в браузері):
- Відкрийте: `http://<PUBLIC_IP>:8080/` — повинно показати текст **OK: …**  
- Або командою:
```bash
curl -I http://<PUBLIC_IP>:8080/
```
Очікувано побачите статус `HTTP/1.0 200 OK`.

---

## 5) Готово
- Ви **створили** недорогий Droplet з Ubuntu, **зайшли** на нього та **переконалися**, що порт **8080** доступний з інтернету по HTTP.
- Для постійної служби використовуйте **systemd** або реверс‑проксі — це **поза межами** цієї мінімальної шпаргалки.
