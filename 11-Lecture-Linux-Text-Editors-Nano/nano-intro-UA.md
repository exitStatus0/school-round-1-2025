# Лекція: **GNU nano — простий та швидкий CLI‑редактор для Linux**

> У цій лекції розберемо **GNU nano** — мінімалістичний, дружній до початківців текстовий редактор для терміналу. Пояснимо базові команди (відкрити/зберегти/вийти, пошук/заміна, вирізати/вставити), гарячі клавіші, конфігурацію `~/.nanorc`, а також типові сценарії DevOps (редагування конфігів через SSH, швидкі правки commit‑message тощо).

---

## Навчальні цілі
Після лекції ви зможете:
- Відкривати/створювати файли у **nano** та зберігати зміни.
- Користуватися **пошуком і заміною**, швидко переходити до рядка/стовпця.
- Виконувати базове редагування: **вирізати/копіювати/вставляти**, **відміняти/повторювати**.
- Налаштувати корисні опції у `~/.nanorc` (нумерація рядків, відступи, перенос рядків, підсвітка синтаксису).
- Знати, як зробити **nano** EDITOR за замовчуванням (bash/git).

---

## План лекції
1. Що таке `nano` і коли його застосовувати
2. Встановлення та запуск
3. Базові дії: відкрити/створити, зберегти, вийти
4. Редагування: вирізати/копіювати/вставити, пошук/заміна, перехід до рядка
5. Корисні гарячі клавіші та підказки інтерфейсу
6. Конфігурація: `~/.nanorc` (приклад)
7. Типові сценарії DevOps/CLI
8. Практикум (10–20 хв)
9. Поширені помилки та поради
10. Контрольні питання
11. Глосарій

---

## 1) Що таке `nano` і коли його застосовувати
- **GNU nano** — простий, консольний редактор, що відображає **корисні підказки** внизу вікна (список основних клавіш).
- Підійде для **швидких правок** конфігів, нотаток, Markdown, YAML, скриптів — особливо **на віддалених серверах** без GUI.
- Поріг входу нижчий, ніж у Vim/Neovim: не потрібно запам’ятовувати моди — **вводите текст одразу**.

---

## 2) Встановлення та запуск
```bash
# Debian/Ubuntu
sudo apt update && sudo apt install -y nano

# Fedora/RHEL
sudo dnf install -y nano

# Arch
sudo pacman -S nano
```

Запуск/створення файлу:
```bash
{userName}@host:~$ nano /etc/hosts          # як root: sudo nano /etc/hosts
{userName}@host:~$ nano notes.md            # створить, якщо файлу немає
```

Зробити `nano` редактором за замовчуванням:
```bash
echo 'export EDITOR=nano' >> ~/.bashrc
git config --global core.editor "nano"
```

---

## 3) Базові дії: відкрити/зберегти/вийти
У підказках внизу використано позначення: `^` = **Ctrl**, `M-` = **Alt/Meta**.

- **Зберегти (Write Out):** `Ctrl+O`, Enter
- **Вийти:** `Ctrl+X`
- **Допомога:** `Ctrl+G` (короткий довідник у самому nano)
- **Відмінити / Повторити:** `Alt+U` / `Alt+E` (на нових версіях — Undo/Redo)

> Порада: Якщо при виході є незбережені зміни, nano запропонує зберегти їх.

---

## 4) Редагування: вирізати/копіювати/вставити, пошук/заміна, перехід
**Робота з текстом**
- **Встановити/зняти позначку (mark):** `Ctrl+6` (або `Ctrl+^`)
- **Вирізати (Cut):** `Ctrl+K` (вирізає рядок або виділення)
- **Скопіювати (Copy):** `Alt+6` (копіює виділення у буфер)
- **Вставити (Uncut/Paste):** `Ctrl+U`
- **Вирівняти абзац (Justify):** `Ctrl+J`

**Пошук і заміна**
- **Пошук:** `Ctrl+W`, далі введіть текст; **наступний збіг** — `Alt+W`
- **Заміна:** `Ctrl+\` (Replace), введіть пошуковий шаблон і рядок заміни, підтверджуйте підказки

**Перехід (Go To Line/Column)**
- **Перейти до рядка/стовпця:** `Ctrl+_` (потім введіть `N` або `N,M`)

---

## 5) Корисні гарячі клавіші та підказки
Найуживаніші:
```
Ctrl+O   — зберегти (Write Out)
Ctrl+X   — вийти
Ctrl+W   — пошук (Where Is)
Ctrl+\   — заміна (Replace)
Ctrl+K   — вирізати рядок/виділення
Ctrl+U   — вставити
Ctrl+6   — встановити позначку (початок виділення)
Alt+6    — копіювати виділення
Alt+U / Alt+E — скасувати / повторити
Ctrl+_   — перейти до рядка/стовпця
Ctrl+G   — довідка
```

Інші корисні:
```
Alt+G    — показати/сховати номер рядка та позицію курсора (у деяких версіях — статус‑рядок)
Alt+N    — вмик/вимк нумерацію рядків (або через nanorc, див. нижче)
Alt+S    — вмик/вимк перенесення рядків (softwrap) у деяких збірках
```

> Комбінації **Alt** можуть відрізнятися залежно від емулятора терміналу/локалі. Якщо Alt не спрацьовує, спробуйте **Esc** + клавіша послідовно.

---

## 6) Конфігурація: `~/.nanorc` (приклад)
Локальна конфігурація користувача: **`~/.nanorc`**  
Системна: **`/etc/nanorc`** (для всіх користувачів)

Приклад корисного `~/.nanorc`:
```nanorc
## Базові зручності
set linenumbers        # показувати номери рядків
set softwrap           # м’який перенос довгих рядків
set tabsize 2          # розмір табуляції
set tabstospaces       # замінювати таби на пробіли
set autoindent         # автоматичний відступ
set indicator          # смужка позиції (якщо підтримується)
set mouse              # дозволити мишу (термінал повинен підтримувати)

## Підсвічування синтаксису (приклади в /usr/share/nano/*.nanorc)
include "/usr/share/nano/*.nanorc"

## Постійне відображення статусу (на новіших версіях)
set constantshow
```

> Після змін у `~/.nanorc` перезапустіть nano. Перелік доступних тем/синтаксису залежить від пакета вашого дистрибутива.

---

## 7) Типові сценарії DevOps/CLI
- **Редагування конфігів**: `sudo nano /etc/nginx/nginx.conf`, `/etc/hosts`, unit‑файлів systemd.
- **Коміт‑меседжі Git**: якщо EDITOR=nano — автоматично відкриється для `git commit`.
- **Швидкі правки YAML/ENV** для контейнерів/оркестрації (Kubernetes, docker‑compose).
- **SSH‑сесії** на серверах без GUI: nano часто вже встановлений або легко ставиться.

---

## 8) Практикум (10–20 хв)
1. Відкрийте/створіть файл:
   ```bash
   nano ~/labs/nano-demo/notes.md
   ```
2. Напишіть кілька рядків тексту; **збережіть** `Ctrl+O`, **вийдіть** `Ctrl+X`.
3. Знову відкрийте файл, виділіть фрагмент: `Ctrl+6` → стрілки → **копіюйте** `Alt+6` → **вставте** `Ctrl+U`.
4. **Пошук/заміна**: `Ctrl+W` → введіть слово; **заміна** `Ctrl+\` → введіть старий/новий текст.
5. **Перейти до рядка**: `Ctrl+_` → введіть номер.
6. Увімкніть нумерацію рядків і softwrap у `~/.nanorc`, перезапустіть nano та перевірте.

> *Результат:* впевнено володієте базовими прийомами nano для щоденних термінальних задач.

---

## 9) Поширені помилки та поради
- **Закрили без збереження** — звикніть одразу натискати `Ctrl+O` перед `Ctrl+X`.
- **Alt‑комбінації не працюють** — спробуйте `Esc` замість Alt або перевірте налаштування терміналу.
- **Кодування/рядки Windows** — для файлів з CRLF інколи корисно конвертувати в LF (утиліта `dos2unix`).

---

## 10) Контрольні питання
1. Які клавіші використовують для **збереження** та **виходу**?
2. Чим відрізняються **вирізати** (`Ctrl+K`) і **копіювати** (`Alt+6`)? Як поставити **позначку**?
3. Як виконати **пошук** і **заміни** у nano?
4. Де знаходиться користувацька конфігурація nano і як увімкнути **нумерацію рядків**?
5. Як зробити nano **EDITOR** за замовчуванням у bash/git?

---

## 11) Глосарій
- **GNU nano** — консольний текстовий редактор для Unix‑подібних систем.
- **`~/.nanorc` / `/etc/nanorc`** — файли конфігурації користувача/системи.
- **Write Out** — зберегти файл (Ctrl+O).
- **Cut/Copy/Paste** — вирізати/копіювати/вставити (Ctrl+K / Alt+6 / Ctrl+U).
- **Mark** — режим виділення (Ctrl+6).
- **Softwrap** — м’який перенос довгих рядків.
- **linenumbers** — показ номера рядка зліва.

---

> **Короткий підсумок:** **nano** — ідеальний вибір для швидких правок у терміналі. Простий інтерфейс із підказками, зрозумілі гарячі клавіші та легка конфігурація роблять його зручним інструментом як для новачків, так і для досвідчених інженерів.
